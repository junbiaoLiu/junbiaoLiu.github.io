[{"title":"ArchLinux安装-基础篇","url":"/2019/10/11/ArchLinux%E5%AE%89%E8%A3%85-%E5%9F%BA%E7%A1%80%E7%AF%87/","content":"<h2 id=\"ArchLinux安装-基础篇\"><a href=\"#ArchLinux安装-基础篇\" class=\"headerlink\" title=\"ArchLinux安装-基础篇\"></a>ArchLinux安装-基础篇</h2><h3 id=\"1-ArchLinux介绍\"><a href=\"#1-ArchLinux介绍\" class=\"headerlink\" title=\"1. ArchLinux介绍\"></a>1. ArchLinux介绍</h3><p><strong>Arch Linux</strong> 是一款基于 <strong>x86-64</strong> 架构的 <strong>Linux</strong> 发行版。系统主要由<strong>自由</strong>和<strong>开源软件</strong>组成，支持社区参与。系统设计以<strong>KISS原则</strong>（保持简单和愚蠢）为总体指导原则，注重代码正确、优雅和极简主义，期待用户能够愿意去理解系统的操作。 <strong>Arch Linux</strong> 系统安装、删除和更新软件的软件包管理器叫做<strong>pacman</strong></p>\n<p><strong>Arch Linux</strong> 采用<strong>滚动发行</strong>模式来获取系统更新和软件的最新版本。系统安装映像只简单地包含系统主要组件。</p>\n<p><strong>Arch Linux</strong> 以社区Wiki的形式提供文档，称为 <a href=\"https://wiki.archlinux.org/\">ArchWiki</a> 。该 Wiki 经常编有特定主题的最新信息，受到了 Linux 社区的广泛认可，内容也应用在 <strong>Arch Linux</strong> 以外的领域。</p>\n<a id=\"more\"></a>\n\n<h3 id=\"2-安装\"><a href=\"#2-安装\" class=\"headerlink\" title=\"2. 安装\"></a>2. 安装</h3><h4 id=\"2-1-预留磁盘空间\"><a href=\"#2-1-预留磁盘空间\" class=\"headerlink\" title=\"2.1 预留磁盘空间\"></a>2.1 预留磁盘空间</h4><p>请确保磁盘中有一块未分配空间,以便<strong>ArchlLinux</strong>系统安装</p>\n<h4 id=\"2-2-制作启动盘\"><a href=\"#2-2-制作启动盘\" class=\"headerlink\" title=\"2.2 制作启动盘\"></a>2.2 制作启动盘</h4><p>进入<a href=\"https://mirrors.tuna.tsinghua.edu.cn/archlinux/iso/\">ArchLinux镜像下载网站</a>(此处使用清华镜像源)</p>\n<p>制作工具:<a href=\"https://sourceforge.net/projects/usbwriter/\">USBWrite</a></p>\n<h4 id=\"2-3进入启动盘\"><a href=\"#2-3进入启动盘\" class=\"headerlink\" title=\"2.3进入启动盘\"></a>2.3进入启动盘</h4><p>​        <img src=\"https://i.loli.net/2019/10/11/3RelTyMsHVq5WYk.png\" alt=\"archlinux启动选项.png\" style=\"zoom:50%;\" /></p>\n<p>​        选择第一项回车进入</p>\n<h4 id=\"2-4-检查启动模式\"><a href=\"#2-4-检查启动模式\" class=\"headerlink\" title=\"2.4 检查启动模式\"></a>2.4 检查启动模式</h4><p><code>ls /sys/firmware/efi/efivars</code></p>\n<p>若输出信息则为<strong>UEFI</strong>启动模式,否则为<strong>BIOS</strong>模式</p>\n<h4 id=\"2-5-连接网络\"><a href=\"#2-5-连接网络\" class=\"headerlink\" title=\"2.5 连接网络\"></a>2.5 连接网络</h4><p>有线网络连接:</p>\n<p><code>dhcpcd</code></p>\n<p>无线网络连接:</p>\n<p><code>wifi-menu</code>        </p>\n<p>检查连接:</p>\n<p><code>ping www.baidu.com</code></p>\n<h4 id=\"2-6-同步时间\"><a href=\"#2-6-同步时间\" class=\"headerlink\" title=\"2.6 同步时间\"></a>2.6 同步时间</h4><p><code>timedatectl set-ntp true</code></p>\n<p>此步骤正常情况下无信息输出(有时候没有消息就是最好的消息)</p>\n<h4 id=\"2-7-硬盘分区\"><a href=\"#2-7-硬盘分区\" class=\"headerlink\" title=\"2.7 硬盘分区\"></a>2.7 硬盘分区</h4><p>进入<strong>cfdisk</strong>分区工具,此工具为图形化分区工具,适合新手使用</p>\n<p><code>cfdisk</code></p>\n<p>选择<strong>gpt</strong>回车</p>\n<p>​        <img src=\"https://i.loli.net/2019/10/11/2FPNresHx6lkYZb.png\" alt=\"cfdisk工具页面.png\" style=\"zoom:50%;\" /></p>\n<p>选择<strong>Free space</strong>,然后<strong>New</strong>,输入空间大小</p>\n<p><strong>BIOS</strong>用户只需分配一个主空间即可,如下图:</p>\n<p>​        <img src=\"https://i.loli.net/2019/10/11/OfLHtYFlMPGsWpq.png\" alt=\"磁盘分配-BIOS用户.png\" style=\"zoom:50%;\" /></p>\n<p>选择<strong>Write</strong>后,输入<strong>yes</strong>保存磁盘分区方案</p>\n<p><strong>UEFI</strong>用户需要分配两个空间,一个是<strong>EFI</strong>空间(200M就行,若已有EFI空间则不用分配)</p>\n<p>另一个则是<strong>系统主空间</strong>,将余下的空闲空间全部分配给它,如下图:</p>\n<p>​        <img src=\"https://i.loli.net/2019/10/11/sLdpEbmPFehTiYN.png\" alt=\"磁盘分配-EFI用户.png\" style=\"zoom:50%;\" /></p>\n<p>记住分区信息(/dev/sda1等,后续挂载放分区需要),保存分区方案</p>\n<p>检查分区信息:</p>\n<p><code>fdisk -l</code></p>\n<p>​        <img src=\"https://i.loli.net/2019/10/11/LqfTcDp6CzxlY5Z.png\" alt=\"磁盘分区信息检查.png\" style=\"zoom:50%;\" /></p>\n<h4 id=\"2-8-格式化分区\"><a href=\"#2-8-格式化分区\" class=\"headerlink\" title=\"2.8 格式化分区\"></a>2.8 格式化分区</h4><p>以上面步骤为例.<strong>BIOS</strong>用户只需以<strong>ext4</strong>文件系统格式化主分区即可:</p>\n<p><code>mkfs.ext4 /dev/sda1</code></p>\n<p><strong>UEFI</strong>用户则需以<strong>fat32</strong>文件系统格式化<strong>EFI</strong>分区(若存在EFI分区,则不用格式化),以<strong>ext4</strong>文件系统格式化主分区:</p>\n<p><code>mkfs.fat -F32 /dev/sda1</code></p>\n<p><code>mkfs.ext4 /dev/sda2</code></p>\n<h4 id=\"2-9-挂载分区\"><a href=\"#2-9-挂载分区\" class=\"headerlink\" title=\"2.9 挂载分区\"></a>2.9 挂载分区</h4><p><strong>BIOS</strong>用户只需挂载主分区即可:</p>\n<p><code>mount /dev/sda1 /mnt</code></p>\n<p><strong>UEFI</strong>用户在挂载主分区的同时需挂载<strong>EFI</strong>分区(若存在EFI分区,则将第三步中的分区信息换成现有EFI分区信息)</p>\n<p><code>mount /dev/sda2 /mnt</code></p>\n<p><code>mkdir -p /mnt/boot/efi</code>        </p>\n<p><code>mount /dev/sda1 /mnt/boot/efi</code></p>\n<h4 id=\"2-10-配置源\"><a href=\"#2-10-配置源\" class=\"headerlink\" title=\"2.10 配置源\"></a>2.10 配置源</h4><p>因默认源在国内下载速度较慢,所以需要加入<strong>国内源</strong></p>\n<p>打开源配置文件:</p>\n<p><code>vim /etc/pacman.d/mirrorlist</code></p>\n<p>在前面加入<strong>国内源</strong>,此处使用<a href=\"https://mirrors.tuna.tsinghua.edu.cn/help/archlinux/\">清华源镜像源</a>,如下:</p>\n<p>​        <img src=\"https://i.loli.net/2019/10/11/zCbWLnjQFJvsu9R.png\" alt=\"修改源.png\" style=\"zoom:50%;\" /></p>\n<p>保存后,更新源:</p>\n<p><code>pacman -Syy</code></p>\n<h4 id=\"2-11-安装基本系统\"><a href=\"#2-11-安装基本系统\" class=\"headerlink\" title=\"2.11 安装基本系统\"></a>2.11 安装基本系统</h4><p>安装基本系统只需一条命令:</p>\n<p><code>pacstrap /mnt base base-devel</code></p>\n<p>此步需下载安装的组件较多,请耐心等待,若下载速度特别慢,请检查源配置文件中的国内源地址是否有误</p>\n<h4 id=\"2-12-生成挂载信息\"><a href=\"#2-12-生成挂载信息\" class=\"headerlink\" title=\"2.12 生成挂载信息\"></a>2.12 生成挂载信息</h4><p>此步将挂载信息写入系统文件中,以便系统重启后自动挂载分区,所以此步非常重要:</p>\n<p><code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code></p>\n<p>检查挂载信息,若显示挂载信息则继续接下来的步骤,若挂载信息有误,请仔细检查前面挂载步骤是否有误:</p>\n<p>​        <img src=\"https://i.loli.net/2019/10/11/snp79RNrt486UG2.png\" alt=\"挂载信息检查.png\" style=\"zoom:50%;\" /></p>\n<h4 id=\"2-13-切换系统\"><a href=\"#2-13-切换系统\" class=\"headerlink\" title=\"2.13 切换系统\"></a>2.13 切换系统</h4><p>目前我们仍处于启动盘中,需要切换到新安装的系统中操作:</p>\n<p><code>arch-chroot /mnt</code></p>\n<p>此命令非常有用,如后续系统出现问题无法启动,可插入启动盘挂载分区后切换系统进行修复</p>\n<p>切换成功,如图所示,#号前面的内容已发生变化:</p>\n<p>​        <img src=\"https://i.loli.net/2019/10/11/jxGcrTCiHyYREMI.png\" alt=\"系统切换成功.png\" style=\"zoom:50%;\" /></p>\n<h4 id=\"2-14-设置时区\"><a href=\"#2-14-设置时区\" class=\"headerlink\" title=\"2.14 设置时区\"></a>2.14 设置时区</h4><p>时间不正确的情况下易引发问题,所以此步也是很有必要的:</p>\n<p><code>ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</code></p>\n<p><code>hwclock --systohc</code></p>\n<h4 id=\"2-15-安装软件\"><a href=\"#2-15-安装软件\" class=\"headerlink\" title=\"2.15 安装软件\"></a>2.15 安装软件</h4><p>因为我们已经切换到了新系统中,新系统目前只包含一些基本组件,所以需要安装一些软件来帮助我们</p>\n<p><strong>ArchLinux</strong>使用<strong>pacman</strong>作为包管理器,利用<strong>pacman</strong>可以方便快捷地安装软件,如<strong>Vim</strong>:</p>\n<p><code>pacman -S vim</code></p>\n<p><strong>Vim</strong>是<strong>Linux</strong>下一个常用且高效的编辑器,熟练使用<strong>Vim</strong>可以更好地操作配置文件,以及更好地理解</p>\n<p><strong>Linux一切皆为文件</strong>的理念,帮助我们更好地使用<strong>Linux</strong>系统</p>\n<p>另外建议此处把无线网络组件安装好,以防没有有线网络的情况下进入系统无法连接无线网的尴尬情况:</p>\n<p><code>pacman -S wpa_supplicant dialog netctl wireless_tools</code></p>\n<p>开机后执行以下命令连接无线网络:</p>\n<p><code>sudo wifi-menu</code>    </p>\n<p>此命令可打开一个简易的无线网络连接图形界面,适合新手使用</p>\n<h4 id=\"2-16-设置语言选项\"><a href=\"#2-16-设置语言选项\" class=\"headerlink\" title=\"2.16 设置语言选项\"></a>2.16 设置语言选项</h4><p>编辑**/etc/locale.gen**文件:</p>\n<p><code>vim /etc/locale.gen</code></p>\n<p>在文件中找到<strong>zh_CN.UTF-8 UTF-8,zh_HK.UTF-8 UTF-8,zh_TW.UTF-8 UTF-8,en_US.UTF-8 UTF-8</strong>四个字段,        去掉行首的#号,保存退出:</p>\n<p>​        <img src=\"https://i.loli.net/2019/10/11/sYz67GcQEgCBhwn.png\" alt=\"语言选项.png\" style=\"zoom:50%;\" /></p>\n<p>更新配置文件:</p>\n<p><code>locale-gen</code></p>\n<p>然后打开(不存在时会自行创建)<strong>/etc/locale.conf</strong>文件:</p>\n<p><code>vim /etc/locale.conf</code></p>\n<p>在文件第一行加入以下内容:</p>\n<p><strong>LANG = en_US.UTF-8</strong></p>\n<p>保存并退出</p>\n<h4 id=\"2-17-设置主机名\"><a href=\"#2-17-设置主机名\" class=\"headerlink\" title=\"2.17 设置主机名\"></a>2.17 设置主机名</h4><p>打开(不存在时会自行创建)<strong>/etc/hostname</strong>文件:</p>\n<p><code>vim /etc/hostname</code></p>\n<p>在第一行输入你想设置的主机名(如:<strong>ThinkPad</strong>)</p>\n<p>保存并退出</p>\n<p>编辑**/etc/hosts**文件:</p>\n<p><code>vim /etc/hosts</code></p>\n<p>做如下修改(将ThinkPad替换成你自己设置的主机名):</p>\n<p><code>127.0.0.1    localhost.localdomain    localhost</code></p>\n<p><code>::1          localhost.localdomain    localhost</code></p>\n<p><code>127.0.1.1   ThinkPad.localdomain       ThinkPad</code></p>\n<p>保存并退出</p>\n<h4 id=\"2-18-设置Root密码\"><a href=\"#2-18-设置Root密码\" class=\"headerlink\" title=\"2.18 设置Root密码\"></a>2.18 设置Root密码</h4><p><strong>Root</strong>是<strong>Linux</strong>中具有最高权限的用户,对<strong>Root</strong>用户的操作不当会造成安全问题</p>\n<p>所以应对<strong>Root</strong>用户设置一个密码</p>\n<p>执行以下命令:</p>\n<p><code>passwd</code></p>\n<p>然后按提示输入密码后确认就可以了</p>\n<h4 id=\"2-19-新建普通用户\"><a href=\"#2-19-新建普通用户\" class=\"headerlink\" title=\"2.19 新建普通用户\"></a>2.19 新建普通用户</h4><p>前面我们提到使用<strong>Root</strong>用户操作不当会造成安全问题,所以我们新建一个普通用户来进行日常操作</p>\n<p>新建一个普通用户,名字叫jack:</p>\n<p><code>useradd -m jack</code></p>\n<p>设置密码:</p>\n<p><code>passwd jack</code></p>\n<p>按照提示输入密码确认即可</p>\n<h4 id=\"2-20-安装grub并设置引导\"><a href=\"#2-20-安装grub并设置引导\" class=\"headerlink\" title=\"2.20 安装grub并设置引导\"></a>2.20 安装grub并设置引导</h4><p>引导程序非常重要,没有它我们将无法进入系统,此处以<strong>grub</strong>为例</p>\n<p>安装<strong>intel-ucode</strong>(非Intel处理器可忽略):</p>\n<p><code>pacman -S intel-ucode</code></p>\n<p>若电脑中还有其他系统,一定要安装<strong>os-prober</strong>:</p>\n<p><code>pacman -S os-prober</code></p>\n<p>安装<strong>grub</strong>:</p>\n<p><code>pacman -S grub</code></p>\n<p><strong>BIOS</strong>用户部署<strong>grub</strong>(此处的**/dev/sda<strong>为硬盘信息而不是类似于</strong>/dev/sda1**这样的分区信息):</p>\n<p><code>grub-install --target=i386-pc /dev/sda</code>    </p>\n<p><strong>UEFI</strong>用户需要先安装<strong>efibootmgr</strong>再部署<strong>grub</strong>:</p>\n<p><code>pacman -S efibootmgr</code></p>\n<p><code>grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=ArchLinux</code></p>\n<p>生成<strong>grub</strong>配置文件:</p>\n<p><code>grub-mkconfig -o /boot/grub/grub.cfg</code></p>\n<p>强烈建议检查<strong>grub</strong>配置文件,看看是否有各个系统的入口,以防无法进入系统:</p>\n<p><code>vim /boot/grub/grub.cfg</code>        </p>\n<p>检查末尾<strong>menuentry</strong>字段部分是否有系统入口,如下图:</p>\n<p>​        <img src=\"https://i.loli.net/2019/10/12/BVHN6gKZEJFs3bh.png\" alt=\"grub配置文件.png\" style=\"zoom:50%;\" /></p>\n<p>若没有发现<strong>Linux</strong>系统入口,则重新部署<strong>Linux内核</strong>后,重新生成<strong>grub</strong>配置文件:</p>\n<p><code>pacman -S linux</code></p>\n<p><code>grub-mkconfig -o /boot/grub/grub.cfg</code></p>\n<p>若有<strong>Linux</strong>系统入口,无其他系统入口(电脑中存在其他系统情况下)</p>\n<p>重启进入<strong>ArchLinux</strong>后重新生成<strong>grub</strong>配置文件:</p>\n<p><code>grub-mkconfig -o /boot/grub/grub.cfg</code>    </p>\n<p>确认无误后,退出新系统,取消挂载,重启进入系统:</p>\n<p><code>exit</code></p>\n<p><code>umount /mnt/boot/efi</code></p>\n<p><code>umount /mnt</code></p>\n<p><code>reboot</code>    </p>\n<h3 id=\"3-总结\"><a href=\"#3-总结\" class=\"headerlink\" title=\"3.总结\"></a>3.总结</h3><p>至此,一个基本的<strong>ArchLinux</strong>系统就安装好了,<strong>ArchLinux</strong>以简洁为宗旨,所以基础版系统没有图形化桌面,需要自行安装,<strong>ArchLinux</strong>的安装对于没有接触过<strong>Linux</strong>系统的新手来说有一定的难度,但这样的安装过程可以让你更好地理解你的系统,这是一个拼图的过程,你需要什么和不需要什么都由你自己决定,这也是很多人喜欢<strong>ArchLinux</strong>的原因.</p>\n<p>最后,也是最重要的一点:<strong>勇于尝试!</strong></p>\n","categories":["ArchLinux"],"tags":["技术"]},{"title":"Docker常用命令(Linux环境下)","url":"/2021/10/30/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4(Linux%E7%8E%AF%E5%A2%83%E4%B8%8B)/","content":"<h1 id=\"Docker常用命令-Linux环境下\"><a href=\"#Docker常用命令-Linux环境下\" class=\"headerlink\" title=\"Docker常用命令(Linux环境下)\"></a>Docker常用命令(Linux环境下)</h1><ol>\n<li><p>Docker启动相关：</p>\n<ul>\n<li><p>启动docker： <code>systemctl start docker</code></p>\n</li>\n<li><p>查看docker运行状态：<code>systemctl status docker</code></p>\n</li>\n<li><p>重启docker：<code>systemctl restart docker</code></p>\n</li>\n<li><p>停止docker：<code>systemctl stop docker</code></p>\n</li>\n<li><p>设置docker开机自启：<code>systemctl enable docker</code></p>\n<a id=\"more\"></a>\n</li>\n</ul>\n</li>\n<li><p>Docker镜像相关：</p>\n<ul>\n<li><p>查看本地镜像：<code>docker images</code></p>\n</li>\n<li><p>搜索远程镜像：<code>docker search 镜像名称</code></p>\n</li>\n<li><p>拉取镜像：<code>docker pull 镜像名称</code></p>\n</li>\n<li><p>删除镜像：<code>docker rmi 镜像id</code></p>\n</li>\n</ul>\n</li>\n</ol>\n<ol start=\"3\">\n<li><p>Docker容器相关：</p>\n<ul>\n<li><p>查看正在运行的容器：<code>docker ps</code></p>\n</li>\n<li><p>查看所有容器：<code>docker ps -a</code></p>\n</li>\n<li><p>交互式创建容器：<code>docker run -it --name=容器名称 镜像名称:镜像标签</code></p>\n</li>\n<li><p>守护式创建容器：<code>docker run -di --name=容器名称 镜像名称:镜像标签</code></p>\n</li>\n<li><p>登录守护式容器：<code>docker exec -it 容器名称（或容器id） /bin/bash</code></p>\n</li>\n<li><p>创建容器时挂载目录：<code>docker run -di -v 宿主机目录:容器目录 --name=容器名称 镜像名称:镜像标签</code></p>\n</li>\n<li><p>启动容器：<code>docker start 容器名称（或容器id）</code></p>\n</li>\n<li><p>停止容器：<code>docker stop 容器名称（或容器id）</code></p>\n</li>\n<li><p>将文件拷贝至容器中：<code>docker cp 需拷贝的文件或目录 容器名称:容器目录</code></p>\n</li>\n<li><p>将容器中的文件拷贝出来：<code>docker cp 容器名称:容器目录 需拷贝的文件或目录</code></p>\n</li>\n<li><p>查看容器信息：<code>docker inspect 容器名称(或容器id)</code></p>\n</li>\n<li><p>查看容器ip：<code>docker inspect --format=&#39;&#123;&#123;.NetworkSettings.IPAddress&#125;&#125;&#39; 容器名称(或容器id)</code></p>\n</li>\n<li><p>删除容器(必须停止容器后)：<code>docker rm 容器名称(或容器id)</code></p>\n</li>\n</ul>\n</li>\n</ol>\n<ol start=\"4\">\n<li><p>Docker的迁移与备份:</p>\n<ul>\n<li><p>将容器保存为镜像：<code>docker commit 要保存的容器名称 保存后的镜像名称</code></p>\n</li>\n<li><p>备份镜像：<code>docker save -o 备份文件名称.tar 镜像名称</code></p>\n</li>\n<li><p>还原镜像：<code>docker load -i 备份文件名称.tar</code></p>\n</li>\n</ul>\n</li>\n</ol>\n","categories":["Docker"],"tags":["Docker","命令"]},{"title":"Hexo个人博客搭建-基础篇","url":"/2019/10/10/Hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA-%E5%9F%BA%E7%A1%80%E7%AF%87/","content":"<h2 id=\"Hexo个人博客搭建-基础篇\"><a href=\"#Hexo个人博客搭建-基础篇\" class=\"headerlink\" title=\"Hexo个人博客搭建(基础篇)\"></a>Hexo个人博客搭建(基础篇)</h2><h3 id=\"1-环境准备\"><a href=\"#1-环境准备\" class=\"headerlink\" title=\"1. 环境准备\"></a>1. 环境准备</h3><p>hexo个人博客可以在Windows,Linux,Mac等环境下搭建,依据个人情况选择,以下示例均在ArchLinux环境下进行</p>\n<p>环境:Git,Node.js,cnpm(此包管理器可不安装,国内网速较慢,建议使用).</p>\n<p>Git:<a href=\"https://git-scm.com/\">官网下载</a></p>\n<p>archlinux用户可使用以下命令直接安装:</p>\n<p><code>sudo pacman -S git</code></p>\n<p>Node.js:<a href=\"https://nodejs.org/en/\">官网下载</a></p>\n<p>archlinux用户可使用以下命令直接安装:</p>\n<p><code>sudo pacman -S nodejs</code></p>\n<p>cnpm使用以下命令安装:</p>\n<p><code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code></p>\n<a id=\"more\"></a>\n\n<hr>\n<h3 id=\"2-安装\"><a href=\"#2-安装\" class=\"headerlink\" title=\"2. 安装\"></a>2. 安装</h3><p>使用cnpm安装hexo框架:</p>\n<p><code>cnpm install hexo-cli</code></p>\n<p>安装检查:</p>\n<p><code>hexo -v</code></p>\n<p>以下为安装成功状态:</p>\n<p>​    <img src=\"https://i.loli.net/2019/10/10/bd7ykjKiZC1ITPD.png\" alt=\"hexo安装检查.png\" style=\"zoom:50%;\" /></p>\n<hr>\n<h3 id=\"3-初始化\"><a href=\"#3-初始化\" class=\"headerlink\" title=\"3. 初始化\"></a>3. 初始化</h3><p>新建一个文件夹,名称随意,此文件夹用于存放hexo博客文件,后续操作均在此文件夹中进行:</p>\n<p><code>mkdir myblog</code></p>\n<p>进入此文件夹:</p>\n<p><code>cd myblog</code></p>\n<p>初始化hexo博客:</p>\n<p><code>sudo hexo init</code></p>\n<p>此过程可能较慢,请耐心等待</p>\n<p>初始化成功提示:</p>\n<p>​    <img src=\"https://i.loli.net/2019/10/10/2fjorzW8JOQ5Cy4.png\" alt=\"hexo初始化检查.png\" style=\"zoom:60%;\" /></p>\n<hr>\n<h3 id=\"4-启动\"><a href=\"#4-启动\" class=\"headerlink\" title=\"4. 启动\"></a>4. 启动</h3><p>启动hexo博客只需简单的一条命令:</p>\n<p><code>hexo s</code></p>\n<p>提示:</p>\n<p>​    <img src=\"https://i.loli.net/2019/10/10/QdHyvZPDOskMb1U.png\" alt=\"hexo启动检查.png\" style=\"zoom:50%;\" /></p>\n<p>按提示在浏览器中输入<a href=\"http://localhost:4000浏览网站\">http://localhost:4000浏览网站</a>:    </p>\n<p><img src=\"https://i.loli.net/2019/10/10/yGhYvsmMFRKxWPb.png\" alt=\"hexo启动预览.png\"></p>\n<hr>\n<h3 id=\"5-将网站推送到github\"><a href=\"#5-将网站推送到github\" class=\"headerlink\" title=\"5. 将网站推送到github\"></a>5. 将网站推送到github</h3><p>安装hexo推送工具:</p>\n<p><code>cnpm install --save hexo-deployer-git</code></p>\n<p>新建一个github仓库,注意仓库名格式为:<strong>github昵称.github.io</strong>(此步非常重要!!!)</p>\n<p>​    <img src=\"https://i.loli.net/2019/10/10/oFXVx5lEphg3D9y.png\" alt=\"新建github仓库.png\" style=\"zoom:50%;\" /></p>\n<p>修改配置文件:</p>\n<p><code>vim _config.yml</code></p>\n<p>找到# Depolyment字段:</p>\n<p>​    <img src=\"https://i.loli.net/2019/10/10/GRig1Bs7CEprWw2.png\" alt=\"推送设置.png\" style=\"zoom:70%;\" /></p>\n<p>在repo字段后填入仓库地址,branch字段可为空,默认分支为master</p>\n<p>推送命令:</p>\n<p><code>hexo d</code></p>\n<p>输入github账号和密码,推送成功</p>\n<p>至此,一个基础版的hexo个人博客就部署完成了,可以通过设置的仓库名称进行访问!</p>\n<h3 id=\"6-总结\"><a href=\"#6-总结\" class=\"headerlink\" title=\"6.总结\"></a>6.总结</h3><p>hexo博客属于静态博客,所有数据均以本地文件的形式进行管理,非常适合刚刚接触博客网站的朋友,</p>\n<p>其搭建过程非常简单,且在各个系统平台下均可使用,本文中搭建的是一个最基础的hexo博客,后续可以</p>\n<p>通过修改博客主题和添加功能页面的方式使你的博客更加美观,功能更加丰富.</p>\n","categories":["Hexo"],"tags":["博客"]},{"title":"Java开发小工具之Lombok","url":"/2021/10/31/Java%E5%BC%80%E5%8F%91%E5%B0%8F%E5%B7%A5%E5%85%B7%E4%B9%8BLombok/","content":"<h1 id=\"Java开发小工具之Lombok\"><a href=\"#Java开发小工具之Lombok\" class=\"headerlink\" title=\"Java开发小工具之Lombok\"></a>Java开发小工具之Lombok</h1><h2 id=\"1-Lombok简介\"><a href=\"#1-Lombok简介\" class=\"headerlink\" title=\"1. Lombok简介\"></a>1. Lombok简介</h2><p>​    Lombok是一个可以通过注解来帮助我们简化消除一些必须有但显得很臃肿的Java代码的工具，也许你对Java实体类中的冗长代码已经感到厌烦，那么使用Lombok将会提高你对实体类的开发效率，让你的代码更加简洁。</p>\n<a id=\"more\"></a>\n\n<h2 id=\"2-Lombok引入\"><a href=\"#2-Lombok引入\" class=\"headerlink\" title=\"2. Lombok引入\"></a>2. Lombok引入</h2><p>​    以最常用的Maven项目为例，只需引入Lombok依赖即可：</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.projectlombok<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>lombok<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.18.22<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>provided<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>其他引入方式可以参考<a href=\"https://projectlombok.org/\">Lombok官网</a></p>\n<h2 id=\"3-Lombok的使用\"><a href=\"#3-Lombok的使用\" class=\"headerlink\" title=\"3. Lombok的使用\"></a>3. Lombok的使用</h2><ol>\n<li>Lombok使用注解简化代码，常用注解如下：</li>\n</ol>\n<ul>\n<li>@Getter：生成getter方法</li>\n<li>@Setter：生成setter方法</li>\n<li>@NoArgsConstructor：生成无参构造方法</li>\n<li>@AllArgsConstructor：生成满参构造方法</li>\n<li>@RequiredArgsConstructor：生成包含特定参数的构造方法</li>\n<li>@EqualsAndHashCode：生成 equals(Object other) 和 hashcode() 方法</li>\n<li>@Data：包含@Getter，@Setter，@RequiredArgsConstructor，和@EqualsAndHashCode的功能</li>\n</ul>\n<ol start=\"2\">\n<li>使用示例：</li>\n</ol>\n<ul>\n<li><p>普通实体类写法：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer id;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String username;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String password;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">User</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">User</span><span class=\"params\">(Integer id, String username, String password)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.id = id;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.username = username;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.password = password;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Integer <span class=\"title\">getId</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> id;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setId</span><span class=\"params\">(Integer id)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.id = id;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getUsername</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> username;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setUsername</span><span class=\"params\">(String username)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.username = username;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getPassword</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> password;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setPassword</span><span class=\"params\">(String password)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.password = password;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>使用Lombok后：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"meta\">@AllArgsConstructor</span></span><br><span class=\"line\"><span class=\"meta\">@NoArgsConstructor</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer id;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String username;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String password;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>由此可见，Lombok可以帮助我们简化很大一部分代码。</p>\n</li>\n</ul>\n<h2 id=\"4-缺点\"><a href=\"#4-缺点\" class=\"headerlink\" title=\"4. 缺点\"></a>4. 缺点</h2><p>​    Lombok虽然可以帮助我们简化实体类的代码，但是我们也要看到使用Lombok的缺点：</p>\n<ol>\n<li>侵入性高：如果我们在项目中使用了Lombok插件，这意味着协同开发此项目的所有人员都必须安装Lombok插件，否则将会导致项目编译失败。更加麻烦的是，若我们自定义的jar包中使用了Lombok，那么所有依赖此jar包的应用都要安装Lombok。</li>\n<li>升级易产生问题：由于Lombok侵入性高的特点，加之其由第三方团队进行开发与更新，所以不能保证Lombok可以支持新的JDK，在无法获得及时更新的情况下，使用Lombok的项目将会出现问题。</li>\n</ol>\n<h2 id=\"5-总结\"><a href=\"#5-总结\" class=\"headerlink\" title=\"5. 总结\"></a>5. 总结</h2><p>​    Lombok是一款很好用的Java开发工具，它帮助我们简化代码，提高开发效率。但与此同时，我们也应看到它存在的一些问题，如果是新项目的开发，我们可以将它列入选型之中，这有利于整个开发团队效率的提高，但面对已经趋于稳定的项目时，我们应积极沟通，不能盲目使用，以免造成团队内其他成员的困扰以及增加项目的不稳定因素。</p>\n","categories":["开发工具"],"tags":["Lombok","开发工具"]},{"title":"使用Docker部署开发环境","url":"/2021/10/30/%E4%BD%BF%E7%94%A8Docker%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/","content":"<h1 id=\"使用Docker部署开发环境\"><a href=\"#使用Docker部署开发环境\" class=\"headerlink\" title=\"使用Docker部署开发环境\"></a>使用Docker部署开发环境</h1><h2 id=\"1-部署MySQL\"><a href=\"#1-部署MySQL\" class=\"headerlink\" title=\"1. 部署MySQL\"></a>1. 部署MySQL</h2><ol>\n<li><p>拉取MySQL镜像</p>\n<p><code>docker pull mysql</code></p>\n</li>\n<li><p>创建容器</p>\n<p><code>docker run -di --name=mysql_1 -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 mysql</code></p>\n<p>解释：<code>docker run -di --name=容器名称 -p 宿主机端口:容器端口 -e 需添加的环境变量名称=值 镜像名称</code></p>\n<a id=\"more\"></a>\n\n</li>\n</ol>\n<h2 id=\"2-部署Tomcat\"><a href=\"#2-部署Tomcat\" class=\"headerlink\" title=\"2. 部署Tomcat\"></a>2. 部署Tomcat</h2><ol>\n<li><p>拉取Tomcat镜像</p>\n<p><code>docker pull tomcat</code></p>\n</li>\n<li><p>创建容器</p>\n<p><code>docker run -di --name=mytomcat -p 8080:8080 -v /usr/local/webapps:/usr/local/tomcat/webapps tomcat</code></p>\n<p>解释：<code>docker run -di --name=容器名称 -p 宿主机端口:容器端口 -v 宿主机目录:容器目录 镜像名称</code></p>\n</li>\n</ol>\n<h2 id=\"3-部署Nginx\"><a href=\"#3-部署Nginx\" class=\"headerlink\" title=\"3. 部署Nginx\"></a>3. 部署Nginx</h2><ol>\n<li><p>拉取Nginx镜像</p>\n<p><code>docker pull nginx</code></p>\n</li>\n<li><p>创建容器</p>\n<p><code>docker run -di --name=mynginx -p 80:80 nginx</code></p>\n</li>\n</ol>\n<h2 id=\"4-部署Redis\"><a href=\"#4-部署Redis\" class=\"headerlink\" title=\"4. 部署Redis\"></a>4. 部署Redis</h2><ol>\n<li><p>拉取Redis镜像</p>\n<p><code>docker pull redis</code></p>\n</li>\n<li><p>创建容器<br><code>docker run -di --name=myredis -p 6379:6379 redis</code></p>\n</li>\n</ol>\n<h2 id=\"5-部署Docker私有仓库\"><a href=\"#5-部署Docker私有仓库\" class=\"headerlink\" title=\"5. 部署Docker私有仓库\"></a>5. 部署Docker私有仓库</h2><ol>\n<li><p>拉取registry镜像</p>\n<p><code>docker pull registry</code></p>\n</li>\n<li><p>创建容器</p>\n<p><code>docker run -di --name=myregistry -p 5000:5000 registry</code></p>\n</li>\n<li><p>修改daemon.json使docker信任私有仓库</p>\n<p><code>vim /etc/docker/daemon.json</code></p>\n<p>添加以下内容：</p>\n<p><code>&#123;&quot;insecure-registries&quot;: [&quot;私有仓库ip地址:5000&quot;]&#125;</code></p>\n<p>重启docker服务生效</p>\n</li>\n<li><p>标记要上传至私有仓库的镜像</p>\n<p><code>docker tag 镜像名称 私有仓库ip地址:5000/标记名称</code></p>\n</li>\n<li><p>上传标记的镜像</p>\n<p><code>docker push 私有仓库ip地址:5000/标记名称</code></p>\n</li>\n</ol>\n","categories":["Docker"],"tags":["Docker","开发环境"]},{"title":"数据库设计之三范式","url":"/2021/10/31/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B9%8B%E4%B8%89%E8%8C%83%E5%BC%8F/","content":"<h1 id=\"数据库设计之三范式\"><a href=\"#数据库设计之三范式\" class=\"headerlink\" title=\"数据库设计之三范式\"></a>数据库设计之三范式</h1><h3 id=\"数据库设计范式是数据库表设计的依据，按照范式设计数据表可以减少数据冗余。\"><a href=\"#数据库设计范式是数据库表设计的依据，按照范式设计数据表可以减少数据冗余。\" class=\"headerlink\" title=\"数据库设计范式是数据库表设计的依据，按照范式设计数据表可以减少数据冗余。\"></a>数据库设计范式是数据库表设计的依据，按照范式设计数据表可以减少数据冗余。</h3><h4 id=\"1-第一范式-1NF-：任何一张数据表都应该有主键，并且表中的每一字段都不可再分，保证字段的原子性。\"><a href=\"#1-第一范式-1NF-：任何一张数据表都应该有主键，并且表中的每一字段都不可再分，保证字段的原子性。\" class=\"headerlink\" title=\"1. 第一范式(1NF)：任何一张数据表都应该有主键，并且表中的每一字段都不可再分，保证字段的原子性。\"></a>1. 第一范式(1NF)：任何一张数据表都应该有主键，并且表中的每一字段都不可再分，保证字段的原子性。</h4><ul>\n<li><p>错误示例：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">学生编号</th>\n<th align=\"center\">学生姓名</th>\n<th align=\"center\">联系方式</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1001</td>\n<td align=\"center\">张三</td>\n<td align=\"center\"><a href=\"mailto:&#122;&#115;&#64;&#103;&#109;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#109;\">&#122;&#115;&#64;&#103;&#109;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#109;</a>,13548302093</td>\n</tr>\n<tr>\n<td align=\"center\">1002</td>\n<td align=\"center\">李四</td>\n<td align=\"center\"><a href=\"mailto:&#108;&#115;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#x63;&#111;&#109;\">&#108;&#115;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#x63;&#111;&#109;</a>,15683934924</td>\n</tr>\n<tr>\n<td align=\"center\">1001</td>\n<td align=\"center\">王五</td>\n<td align=\"center\"><a href=\"mailto:&#x77;&#x77;&#64;&#103;&#109;&#x61;&#105;&#x6c;&#46;&#99;&#111;&#x6d;\">&#x77;&#x77;&#64;&#103;&#109;&#x61;&#105;&#x6c;&#46;&#99;&#111;&#x6d;</a>,13420932882</td>\n</tr>\n</tbody></table>\n<p>上表中没有设计主键，且联系方式字段非原子性，还可再分。<a id=\"more\"></a></p>\n</li>\n<li><p>正确示例：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">学生编号（PK）</th>\n<th align=\"center\">学生姓名</th>\n<th align=\"center\">邮箱地址</th>\n<th align=\"center\">联系电话</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1001</td>\n<td align=\"center\">张三</td>\n<td align=\"center\"><a href=\"mailto:&#122;&#115;&#x40;&#x67;&#x6d;&#x61;&#105;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;\">&#122;&#115;&#x40;&#x67;&#x6d;&#x61;&#105;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;</a></td>\n<td align=\"center\">13548302093</td>\n</tr>\n<tr>\n<td align=\"center\">1002</td>\n<td align=\"center\">李四</td>\n<td align=\"center\"><a href=\"mailto:&#108;&#x73;&#x40;&#x67;&#109;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#109;\">&#108;&#x73;&#x40;&#x67;&#109;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#109;</a></td>\n<td align=\"center\">15683934924</td>\n</tr>\n<tr>\n<td align=\"center\">1003</td>\n<td align=\"center\">王五</td>\n<td align=\"center\"><a href=\"mailto:&#x77;&#x77;&#64;&#x67;&#109;&#97;&#105;&#108;&#x2e;&#x63;&#111;&#x6d;\">&#x77;&#x77;&#64;&#x67;&#109;&#97;&#105;&#108;&#x2e;&#x63;&#111;&#x6d;</a></td>\n<td align=\"center\">13420932882</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<h4 id=\"2-第二范式-2NF-：在第一范式的基础上，数据表中所有的非主键字段必须完全依赖主键，不能产生部分依赖。\"><a href=\"#2-第二范式-2NF-：在第一范式的基础上，数据表中所有的非主键字段必须完全依赖主键，不能产生部分依赖。\" class=\"headerlink\" title=\"2. 第二范式(2NF)：在第一范式的基础上，数据表中所有的非主键字段必须完全依赖主键，不能产生部分依赖。\"></a>2. 第二范式(2NF)：在第一范式的基础上，数据表中所有的非主键字段必须完全依赖主键，不能产生部分依赖。</h4><ul>\n<li><p>错误示例：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">学生编号（PK）</th>\n<th align=\"center\">教师编号（PK）</th>\n<th align=\"center\">学生姓名</th>\n<th align=\"center\">教师姓名</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1001</td>\n<td align=\"center\">001</td>\n<td align=\"center\">张三</td>\n<td align=\"center\">王老师</td>\n</tr>\n<tr>\n<td align=\"center\">1002</td>\n<td align=\"center\">002</td>\n<td align=\"center\">李四</td>\n<td align=\"center\">赵老师</td>\n</tr>\n<tr>\n<td align=\"center\">1003</td>\n<td align=\"center\">001</td>\n<td align=\"center\">王五</td>\n<td align=\"center\">王老师</td>\n</tr>\n<tr>\n<td align=\"center\">1001</td>\n<td align=\"center\">003</td>\n<td align=\"center\">张三</td>\n<td align=\"center\">李老师</td>\n</tr>\n</tbody></table>\n<p>以上表虽然符合第一范式(1NF)，但是学生姓名和教师姓名两个字段产生了冗余，因为学生姓名只依赖学生编号这个主键而不依赖教师编号，同样的，教师姓名只依赖教师编号这个主键而不依赖学生编号，这就产生了部分依赖，故不符合第二范式(2NF)。</p>\n</li>\n<li><p>正确示例：</p>\n<p>学生表（t_student）：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">学生编号（PK）</th>\n<th align=\"center\">学生姓名</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1001</td>\n<td align=\"center\">张三</td>\n</tr>\n<tr>\n<td align=\"center\">1002</td>\n<td align=\"center\">李四</td>\n</tr>\n<tr>\n<td align=\"center\">1003</td>\n<td align=\"center\">王五</td>\n</tr>\n</tbody></table>\n<p>教师表（t_teacher）：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">教师编号（PK）</th>\n<th align=\"center\">教师姓名</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">001</td>\n<td align=\"center\">王老师</td>\n</tr>\n<tr>\n<td align=\"center\">002</td>\n<td align=\"center\">赵老师</td>\n</tr>\n<tr>\n<td align=\"center\">003</td>\n<td align=\"center\">李老师</td>\n</tr>\n</tbody></table>\n<p>学生教师关系表（t_student_teacher_relation）：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">id（PK）</th>\n<th align=\"center\">学生编号（fk）</th>\n<th align=\"center\">教师编号（FK）</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1</td>\n<td align=\"center\">1001</td>\n<td align=\"center\">001</td>\n</tr>\n<tr>\n<td align=\"center\">2</td>\n<td align=\"center\">1002</td>\n<td align=\"center\">002</td>\n</tr>\n<tr>\n<td align=\"center\">3</td>\n<td align=\"center\">1003</td>\n<td align=\"center\">001</td>\n</tr>\n<tr>\n<td align=\"center\">4</td>\n<td align=\"center\">1001</td>\n<td align=\"center\">003</td>\n</tr>\n</tbody></table>\n<p>在多对多的关系中，我们可以利用中间表来存放两表间的关系，防止产生部分依赖（<strong>多对多？三张表，关系表有两外键</strong>）。</p>\n</li>\n</ul>\n<h4 id=\"3-第三范式-3NF-：在第二范式的基础上，数据表中的所有非主键字段直接依赖主键字段，不能产生传递依赖。\"><a href=\"#3-第三范式-3NF-：在第二范式的基础上，数据表中的所有非主键字段直接依赖主键字段，不能产生传递依赖。\" class=\"headerlink\" title=\"3.  第三范式(3NF)：在第二范式的基础上，数据表中的所有非主键字段直接依赖主键字段，不能产生传递依赖。\"></a>3.  第三范式(3NF)：在第二范式的基础上，数据表中的所有非主键字段直接依赖主键字段，不能产生传递依赖。</h4><ul>\n<li><p>错误示例：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">学生编号（PK）</th>\n<th align=\"center\">学生姓名</th>\n<th align=\"center\">班级编号</th>\n<th align=\"center\">班级名称</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1001</td>\n<td align=\"center\">张三</td>\n<td align=\"center\">01</td>\n<td align=\"center\">一年一班</td>\n</tr>\n<tr>\n<td align=\"center\">1002</td>\n<td align=\"center\">李四</td>\n<td align=\"center\">02</td>\n<td align=\"center\">一年二班</td>\n</tr>\n<tr>\n<td align=\"center\">1003</td>\n<td align=\"center\">王五</td>\n<td align=\"center\">03</td>\n<td align=\"center\">一年三班</td>\n</tr>\n<tr>\n<td align=\"center\">1004</td>\n<td align=\"center\">赵六</td>\n<td align=\"center\">04</td>\n<td align=\"center\">一年三班</td>\n</tr>\n</tbody></table>\n<p>上表符合第二范式(2NF)，但班级名称存在冗余，因为班级名称并不直接依赖于主键学生编号，而是依赖与班级编号，班级编号又依赖于学生编号，这就产生了传递依赖，故不符合第三范式(3NF)，解决方案是对此数据表进行拆分。</p>\n</li>\n<li><p>正确示例：</p>\n<p>学生信息表（t_student）:</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">学生编号（PK）</th>\n<th align=\"center\">学生姓名</th>\n<th align=\"center\">班级编号（FK）</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1001</td>\n<td align=\"center\">张三</td>\n<td align=\"center\">01</td>\n</tr>\n<tr>\n<td align=\"center\">1002</td>\n<td align=\"center\">李四</td>\n<td align=\"center\">02</td>\n</tr>\n<tr>\n<td align=\"center\">1003</td>\n<td align=\"center\">王五</td>\n<td align=\"center\">03</td>\n</tr>\n<tr>\n<td align=\"center\">1004</td>\n<td align=\"center\">赵六</td>\n<td align=\"center\">04</td>\n</tr>\n</tbody></table>\n<p>班级信息表（t_class）:</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">班级编号（PK）</th>\n<th align=\"center\">班级名称</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">01</td>\n<td align=\"center\">一年一班</td>\n</tr>\n<tr>\n<td align=\"center\">02</td>\n<td align=\"center\">一年二班</td>\n</tr>\n<tr>\n<td align=\"center\">03</td>\n<td align=\"center\">一年三班</td>\n</tr>\n<tr>\n<td align=\"center\">04</td>\n<td align=\"center\">一年四班</td>\n</tr>\n</tbody></table>\n<p>经过对原数据表的拆分，有效防止了传递依赖的产生（<strong>一对多？两张表，多的表加外键</strong>）。</p>\n</li>\n</ul>\n<h4 id=\"4-一对一关系的设计\"><a href=\"#4-一对一关系的设计\" class=\"headerlink\" title=\"4. 一对一关系的设计\"></a>4. 一对一关系的设计</h4><p>​    一对一关系设计有两种方法：主键共享、外键唯一</p>\n<ol>\n<li><p>主键共享：</p>\n<ul>\n<li><p>用户登录表（t_user_login）：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">id（PK）</th>\n<th align=\"center\">用户名</th>\n<th align=\"center\">密码</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1</td>\n<td align=\"center\">zs</td>\n<td align=\"center\">11111</td>\n</tr>\n<tr>\n<td align=\"center\">2</td>\n<td align=\"center\">ls</td>\n<td align=\"center\">22222</td>\n</tr>\n<tr>\n<td align=\"center\">3</td>\n<td align=\"center\">ww</td>\n<td align=\"center\">33333</td>\n</tr>\n</tbody></table>\n</li>\n<li><p>用户信息表（t_user_detail）：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">id（PK+FK）</th>\n<th align=\"center\">真实姓名</th>\n<th align=\"center\">联系电话</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1</td>\n<td align=\"center\">张三</td>\n<td align=\"center\">13548302093</td>\n</tr>\n<tr>\n<td align=\"center\">2</td>\n<td align=\"center\">李四</td>\n<td align=\"center\">15683934924</td>\n</tr>\n<tr>\n<td align=\"center\">3</td>\n<td align=\"center\">王五</td>\n<td align=\"center\">13420932882</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n</li>\n</ol>\n<ol start=\"2\">\n<li><p>外键唯一：</p>\n<ul>\n<li><p>用户登录表（t_user_login）：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">id（PK）</th>\n<th align=\"center\">用户名</th>\n<th align=\"center\">密码</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1</td>\n<td align=\"center\">zs</td>\n<td align=\"center\">11111</td>\n</tr>\n<tr>\n<td align=\"center\">2</td>\n<td align=\"center\">ls</td>\n<td align=\"center\">22222</td>\n</tr>\n<tr>\n<td align=\"center\">3</td>\n<td align=\"center\">ww</td>\n<td align=\"center\">33333</td>\n</tr>\n</tbody></table>\n</li>\n<li><p>用户信息表（t_user_detail）：</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">id（PK）</th>\n<th align=\"center\">真实姓名</th>\n<th align=\"center\">联系电话</th>\n<th align=\"center\">userid（FK+unique）</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1</td>\n<td align=\"center\">张三</td>\n<td align=\"center\">13548302093</td>\n<td align=\"center\">1</td>\n</tr>\n<tr>\n<td align=\"center\">2</td>\n<td align=\"center\">李四</td>\n<td align=\"center\">15683934924</td>\n<td align=\"center\">2</td>\n</tr>\n<tr>\n<td align=\"center\">3</td>\n<td align=\"center\">王五</td>\n<td align=\"center\">13420932882</td>\n<td align=\"center\">3</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"5-注意事项\"><a href=\"#5-注意事项\" class=\"headerlink\" title=\"5. 注意事项\"></a>5. 注意事项</h4><p>​    在实际的开发中，我们应该以满足客户的需求为主，不一定要严格按照三范式进行数据库设计，有时需要拿冗余换取执行速度。</p>\n","categories":["数据库设计"],"tags":["数据库"]},{"url":"/2021/11/05/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","content":"<h1 id=\"设计模式\"><a href=\"#设计模式\" class=\"headerlink\" title=\"设计模式\"></a>设计模式</h1><h2 id=\"1-什么是设计模式\"><a href=\"#1-什么是设计模式\" class=\"headerlink\" title=\"1. 什么是设计模式\"></a>1. 什么是设计模式</h2><p>​        设计模式（Design Pattern）是前辈们对代码开发经验的总结，是解决特定问题的一系列套路。他不是语法规定，而是一套用来提高代码可复用性、可维护性、可读性、稳健性以及安全性的解决方案。设计模式的本质是面向对象设计原则的实际运用，是对类的封装性、继承性和多态性以及类的关联关系和组合关系的理解。</p>\n<h2 id=\"2-理解设计模式的作用\"><a href=\"#2-理解设计模式的作用\" class=\"headerlink\" title=\"2. 理解设计模式的作用\"></a>2. 理解设计模式的作用</h2><ul>\n<li>可以提高程序员的思维能力、编程能力和设计能力。</li>\n<li>使程序设计标准化、代码编写更加工程化，提高软件开发效率，缩短软件开发周期。</li>\n<li>使设计的代码可重用性高、可读性强、可靠性高、灵活性好、可维护性强。</li>\n</ul>\n<h2 id=\"3-GoF-23\"><a href=\"#3-GoF-23\" class=\"headerlink\" title=\"3. GoF 23\"></a>3. GoF 23</h2><p>​        1995年，GoF（Gang of Four, 四人组）合作出版了《设计模式：可复用面向对象软件的基础》一书，共收录了23种设计模式，从此树立了软件设计模式领域的里程碑，被人们称为<strong>“GoF设计模式”</strong>。</p>\n<ul>\n<li><strong>GoF 23</strong>：<ul>\n<li>一种思维，一种态度，一种进步</li>\n</ul>\n</li>\n<li><strong>创建型模式（对象的创建与使用分离）：</strong><ul>\n<li>单例模式、工厂模式、抽象工厂模式、建造者模式、原型模式</li>\n</ul>\n</li>\n<li><strong>结构型模式（对象的组合）：</strong><ul>\n<li>适配器模式、桥接模式、装饰模式、组合模式、外观模式、享元模式、代理模式</li>\n</ul>\n</li>\n<li><strong>行为型模式（对象的相互协作）：</strong><ul>\n<li>模板方法模式、命令模式、迭代器模式、观察者模式、中介者模式、备忘录模式、解释器模式、状态模式、策略模式、职责链模式、访问者模式</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"4-面向对象（OOP）的七大原则\"><a href=\"#4-面向对象（OOP）的七大原则\" class=\"headerlink\" title=\"4. 面向对象（OOP）的七大原则\"></a>4. 面向对象（OOP）的七大原则</h2><ul>\n<li><strong>开闭原则（总纲）：</strong>对扩展开放，对修改关闭。</li>\n<li><strong>里氏替换原则：</strong>继承必须确保父类所拥有的性质在子类中仍然成立。</li>\n<li><strong>依赖倒置原则</strong>：面向接口编程，不要面向实现编程，抽象不依赖细节，细节必须依赖抽象。</li>\n<li><strong>单一职责原则：</strong>控制类的粒度大小，将对象解耦，提高其内聚性，一个方法干好一件事情。</li>\n<li><strong>接口隔离原则：</strong>为各个类建立它们需要的专用接口。</li>\n<li><strong>迪米特法则：</strong>只与你的直接朋友交谈，不跟”陌生人“说话（A-&gt;B-&gt;C，不能直接A-&gt;C）。</li>\n<li><strong>合成复用原则：</strong>尽量先使用组合或者聚合等关联关系来实现，其次才考虑使用继承关系来实现。</li>\n</ul>\n"}]